一、填空题 （每空1分，共15分）
1、在单处理机系统中，多道程序运行的特点是_____多道______、____宏观并行_______和___微观串行________。　　　　　　　　　　　　　　　　　　　　　　　
2、若公用信号量sem的初值为2，当前值是-1，则表示有_____1______个等待进程。
3、操作系统为用户提供的两个接口界面是__键盘命令_________和____编程_______。
4、多道程序设计技术的出现，得到了计算机硬件的两方面支持：___中断系统________和___通道技术________。
5、在多道程序运行的系统中，为了提高内存的使用率，解决小内存运行大作业问题，使用了___分页管理________、__分段管理________和____段页式管理_______等内存管理技术；
6、文件的物理结构主要有三种：__连续结构_________、__串联结构_________和___索引结构________。
7、设一段表为
段号		基地址  		段长
0			219				600
1			2300			14
2			90				100
3			1327			580
4			1952			96
      那么逻辑地址（4，100）对应的物理地址是___地址越界____。

二、单项选择题   （每题1分，共15题）
1、在采用SPOOLing技术的系统中，用户的打印数据首先被送到_____AB_____。
A、磁盘固定区域		B、内存固定区域			C、终端			D、打印机
2、当CPU执行操作系统代码时，称处理机处于_____AC_____态。
   A执行态      B目态      C管态      D就绪态
3、在下列性质中，____DCB_______不是分时系统的物征。    A、多路性  	    B、交互性    C、独占性     D、成批性
4、在进程状态转换时，下列____D_______转换是不可能发生的。
A、就绪态→运行态                B、运行态→就绪态
C、运行态→阻塞态                D、阻塞态→运行态
5、在操作系统中，死锁出现指的是_____C______。
   A、计算机发生了重大故障；
   B、资源数远远少于进程数；
   C、若干进程因竞争资源而无限等待其它进程释放已占有的资源；
   D、进程同时申请的资源数超过资源总数；
6、可变分区存储管理方式中，最先适应算法是空闲区在空闲链中按_____A______次序排列。
   A、地址递增  B、地址递减  C、空闲区大小递增   D、空闲区大小递减
7、下列仅一条指令只能在管态下运行，这条指令是_____A______。
      A、读取时钟指令    B、访管指令    C、屏蔽中断指令    D、取数指令
8、设主存容量为1MB，辅存容量为400MB，计算机系统的地址寄存器有24位，那么虚存的最大容量是____D_______。
A、1MB          B、401MB            C、1MB+224B         D、224B
9、在动态分区分配方案中，只需要进行一次比较就可以判定是否满足作业对主存空间要求是___C_______。
     A、最先适应算法      B、最佳适应算法    C、最坏适应算法  D、循环最先适应算法
10、在动态分配方案中，某一作业完成后，系统回收其主存空间并与相邻空闲区合并，为此需修改空闲区表，造成空闲区数减1的情况是______D_____。
      A、无上邻空闲区也无下邻空闲区         B、有上邻空闲区但无下邻空闲区
C、有下邻空闲区但无上邻空闲区         D、有上邻空闲区也有下邻空闲区
11、系统“抖动”现象的发生是由___A___引起的。
      A、置换算法选择不当          B、交换的信息量过大
C、内存容量不足              D、请求页式管理方案
12、在记录式文件中，一个文件由称为_____C______的最小单位组成。
      A、物理文件    B、物理块    C、逻辑记录    D、数据项
13、文件系统中若文件的物理结构采用连续结构，则文件控制块FCB中有关文件的物理位置信息应包括____B_______。（1）首地址； （2）文件长度；  （3）索引表地址；
      A、（1）、（2）、（3）全部    B、（1）、和（2）  C、（1）和（3）  D、（2）和（3）
14、如果I/O所花费的时间比CPU的处理时间短得多，则缓冲区_____B______。
      A、最有效		  B、几乎无效		 C、均衡			D、以上都不是
15、虚拟设备是靠_____C______技术来实现的。
      A、通道			B、缓冲			C、SPOOLing		D、控制器

多道程序设计是指（   B    ）
A、在多台处理机上同时执行多道程序
B、在多台处理机上同一时刻执行多道程序
C、在一台处理机上同时执行多道程序
D、在一台处理机上同一时刻执行多道程序
在下列存储管理方案中，不适用于多道程序设计的是（   C    ）
   A、单一连续分配        B、固定式分区分配
   C、可变式分区分配      D、段页式存储管理
操作系统的基本类型主要有（   A  ）。
   A、批处理系统、分时系统及多任务系统            
   B、实时系统、批处理系统及分时系统
   C、单用户系统、多用户系统及批处理系统
   D、实时系统、分时系统和多用户系统
19、资源的按序分配策略可以破坏以下哪个条件（    ） 
A、互斥使用资源       B、占有且等待资源
C、非抢夺资源     D、循环等待资源
20、下面不适合于磁盘调度的算法是（      ）
    A、FCFS             B、SCAN
C、时间片轮转法     D、SSTF
21、 （       ）存储器管理方法可能使系统产生抖动。
  A、简单页式         B、请求页式
C、段式             D、可变连续分区
22、在存储管理中，采用覆盖与交换技术的目的是（      ）
  A、节省主存空间            B、物理上扩充主存容量
C、提高CPU效率              D、实现主存共享
23、下列不属于操作系统的主要特征是（      ）
   A、并发性     B、交互性
C、共享性    D、虚拟性     E、不确定性
24、通道是一种（         ）
  A、I/O端口     B、数据通道
C、I/O专用处理器         D、软件工具
25、对于两个并发进程，设互斥信号量为 mutex ， 若 mutex = 0，则（       ）
A、表示没有一个进程进入临界区     
B、表示有一个进程进入临界区
C、表示有一个进程进入临界区，另一个进程等待进入     
D、表示有两个进程进入临界区
26、若P、V操作的信号量S初值为2，当前值为—3，则表示有等待进程（    ）
  A、0     B、1    C、2     D、3
27、某系统有3个并发进程，都需要同类资源四个，试问该系统不会发生死锁的最少资源数是（      ）
A、4   B、8     C、10     D、12
28、在操作系统中，P-V操作是一种（     ）
A、机器指令         B、系统调用指令
C、作业控制指令     D、低级进程通讯原语
29、一个进程是（     ）
A、由协处理机执行的一个程序      B、一个独立的程序+数据集
C、PCB结构与程序和数据的组合     D、一个独立的程序
30、在请求分页存储管理中，若采用FIFO页面淘汰算法，则当分配的页面数增加时，缺页中断的次数（    ）
A、减少     B、增加     C、无影响     D、可能增加也可能减少
31、在下列解决死锁的方法中，属于死锁预防策略的是（    ）
A、银行家算法       B、资源有序分配法
C、死锁检测法       D、资源分配图化简法
32、当一下情况发生时，进程从执行状态转变为就绪状态（     ）
A、进程被调度程序选中    B、时间片到   C、等待某一事件  D、等待的事件发生
33、位示图方法可用于（    ）
A、文件目录查找       B、内存空间管理
C、主存空间共享     D、文件的保护和保密
34、操作系统为保证未经文件所有者授权则任何其他用户不得使用该文件的解决办法是（       ）
A、文件保护     B、文件保密   C、文件转储     D、文件共享
35、操作系统中采用以空间换取时间的技术（      ）
A、SPOOLING技术     B、虚拟存储技术   C、覆盖与交换技术     D、通道技术
36、在进程状态转换时，下列___________转换是不可能发生的
A、就绪态→运行态                B、运行态→就绪态
C、运行态→阻塞态                D、阻塞态→运行态
37.在操作系统中，死锁出现指的是___________
   A、计算机发生了重大故障；
   B、资源数远远少于进程数；
   C、若干进程因竞争资源而无限等待其它进程释放已占有的资源；
   D、进程同时申请的资源数超过资源总数；
38、可变分区存储管理方式中，最先适应算法是空闲区在空闲链中按__________次序排列
  A、地址递增  B、地址递减  C、空闲区大小递增   D、空闲区大小递减
39、设主存容量为1MB，辅存容量为400MB，计算机系统的地址寄存器有24位，那么虚存的最大容量是_______
A、1MB          B、401MB            C、1MB+224B         D、224B
40、在动态分区分配方案中，只需要进行一次比较就可以判定是否满足作业对主存空间要求是_________
     A、最先适应算法      B、最佳适应算法    C、最坏适应算法  D、循环最先适应算法
41、在动态分配方案中，某一作业完成后，系统回收其主存空间并与相邻空闲区合并，为此需修改空闲区表，造成空闲区数减1的情况是_________
      A、无上邻空闲区也无下邻空闲区         B、有上邻空闲区但无下邻空闲区
C、有下邻空闲区但无上邻空闲区         D、有上邻空闲区也有下邻空闲区
42、系统“抖动”现象的发生是由______引起的
      A、置换算法选择不当          B、交换的信息量过大
C、内存容量不足              D、请求页式管理方案
43、在记录式文件中，一个文件由称为___________的最小单位组成
      A、物理文件    B、物理块    C、逻辑记录    D、数据项
44、文件系统中若文件的物理结构采用连续结构，则文件控制块FCB中有关文件的物理位置信息应包括__________。（1）首地址； （2）文件长度；  （3）索引表地址；
      A、（1）、（2）、（3）全部    B、（1）、和（2）  C、（1）和（3）  D、（2）和（3）
45、在下列存储管理方案中，不适用于多道程序设计的是（       ）
   A、单一连续分配        B、固定式分区分配
   C、可变式分区分配      D、段页式存储管理
46、下面不适合于磁盘调度的算法是（      ）
    A、FCFS     B、SCAN
C、时间片轮转法     D、SSTF
47、（       ）存储器管理方法可能使系统产生抖动
  A、简单页式         B、请求页式
C、段式             D、可变连续分区
48、用户通过终端使用计算机系统控制作业的执行方式称为（      ）控制方式
  A、真脱机            B、假脱机
C、联机              D、自动控制
49、进程的并发执行是指若干个进程（         ）
  A、共享系统资源     B、在执行的时间上是重叠的
C、同时执行         D、在执行的时间上是不可重叠的
50、设有6个进程共享一个互斥段，如果最多允许有3个进程进入互斥段，则所采用的互斥信号量的初值应该是（    ）
  A、6     B、1    C、3     D、0
51、某系统有3个并发进程，都需要同类资源四个，试问该系统不会发生死锁的最少资源数是（      ）
A、4   B、8     C、10     D、12
52、在操作系统中，P-V操作是一种（     ）
A、机器指令         B、系统调用指令
C、作业控制指令     D、低级进程通讯原语
53、文件系统主要是通过（     ）实现“按名存取”
A、查找位示图       B、查找文件目录
C、查找页表        D、地址变换机构
54、CPU对通道的请求形式是（          ）
A、自陷     B、申请   C、I/O指令     D、中断请求
55、缓冲技术的缓冲池在（      ）中
A、主存     B、外存    C、ROM     D、寄存器 

















三、判断题	（对的题在（  ）里打√，错的打×）  （每题1分，共10分）
（√ ）1、一个进程是由伪处理机执行的一个程序。
（× ）2、为了提高请求分页系统中内存的利用率，允许用户使用不同大小的页面。
（× ）3、死锁是一种与时间有关的错误，它与进程推进的速度无关。
（√ ）4、在剥夺式进程调度方式下，现运行进程的优先级不低于系统中所有进程的优先级。
（×）5、程序的并发执行是指同一时刻有两个以上的程序，它们的指令在同一处理器上执行。
（√）6、在分时系统中，由于采用了分时技术，用户在逻辑上感觉独占了计算机资源。
（×）7、请求分页存储管理系统中，若把页面的大小增加一倍，则缺页中断次数会减少一半。
（×）8、设备独占性是指I/O设备具有独立执行I/O功能的一种特性。
（√）9、在操作系统中，用户在使用I/O设备时，通常采用逻辑设备名。
（√）10、连续文件适合于建立在顺序存储设备上而不适合于建立在磁盘上。
四、简答题    （每题5分，共20分）
1、什么是操作系统的基本功能？
答：包括处理机管理、存储管理、设备管理、文件系统管理和用户接口管理。

2、什么是请求分页存储管理？其最大的优点是什么？
答：请求分页存储管理是动态页式管理的一种，它在作业或进程开始执行之前，不把作业或进程的程序段和数据段一次性的的全部装入内存，而只装入被认为是经常反复执行和调用的工作区部分，其它部分则在执行过程中动态装入。请求分页存储管理的调入方式是：当需要执行某条指令而又发现它不在内存中时，或当执行某条指令需要访问其它数据或指令时，而这些数据或指令又不在内存，从而产生缺页中断，系统将外存中相应的页面调入内存。
求分页存储管理最大的优点是能实现虚拟存储。

3、试述文件系统中的空闲块成组链接法的基本原理，哪个操作系统采用此方法来管理文件存储设备上的空闲块？（只答出一种操作系统即可）
答：UNIX系统采用空闲块成组链接法，其基本原理是:
空闲块成组链接：引入空闲块索引表用栈方式管理空闲块。系统把每100个空闲块作为一组，每一组的第一个空闲块中登记下一组空闲块的块号和空闲块数，余下不足100块的那部分空闲块的块号及块数登记在一个专用块中，登记最后一组块号的那个空闲块其中第二个单元填“0”，表示该块中指出的块号是最后一组的块号，空闲块成组链接到此结束。
    空闲块的分配：系统初始化时先把专用块内容读到主存，当需分配空闲块时，就直接在主存中找到哪些是空闲的块，每分配一块后空闲块数减1；专用块指示的空闲块分配完后，则将下一组的块号及块数读入专用块，专用块内容读到主存，实施该组空闲块的分配。
空闲块的分配：当归还一块时，只要把归还块的块号登记到当前组中，空闲块数加1。如果当前组已满100块，则把主存中的内容写到归还的那块中，该归还作为新组的第一块。
UNIX操作系统采用空闲块成组链接法来管理文件存储设备上的空闲块。

4、什么是缓冲？为什么要引入缓冲？
答：缓冲即是是使用专用硬件缓冲器或在内存中划出一个区域用来暂时存放输入输出数据的器件。
    引入缓冲是为了匹配外设和CPU之间的处理速度，减少中断次数和CPU的中断处理时间，同时解决DMA或通道方式时的数据传输瓶颈问题。

五、计算题  （每题10分，共30分）
1、假设某系统中有4种资源（R1，R2，R3，R4），在某时刻系统中共有5个进程。进程P1，P2，P3，P4，P5的最大资源需求数向量和此时已分配到的资源数向量分别为
进程			当前已分配到资源		最大资源需求
P1			（0，0，1，2）		   （0，0，1，2）
P2			（2，0，0，0）		   （2，7，5，0）
P3			（0，0，3，4）		   （6，6，5，6）
P4			（2，3，5，4）		   （4，3，5，6）
P5			（0，3，3，2）		   （0，6，5，2）
系统中当前可用资源向量为（2，1，0，0）。问：
（1）当前系统是否是安全的？
（2）如果进程3已发出资源请求向量（0，1，0，0），系统能否将资源分配给它？
解：（1）、安全序列为：P1->P4->P5->P2->P3
(2)、不能分配，否则死锁。
因若满足P3，则系统可用资源向量为（2，0，0，0）, 此时若执行其它进程均死锁，只能执行P1，执行后系统可用资源向量为（2，0，1，2），分给P2、P3、P5均死锁，只能分给P4执行，执行后系统可用资源向量为（4，3，6，6），分给P2、P3均死锁，只能分给P5执行，执行后系统可用资源向量为（4，6，9，8），分给P2、P3均死锁。从而说明当响应进程3已发出资源请求向量（0，1，0，0）后，系统死锁。

2、某虚拟存储器的用户空间共有32个页面，每页1KB，主存16KB。试问：
（1）逻辑地址有效位是多少？
（2）物理地址需要多少位？
（3）假定某时刻系统为用户的第0，1，2，3页分别分配的物理块号为5，10，4，7，试将虚地址0A5C和093C变换为物理地址。
解：（1）逻辑地址有效位是15位
（2）物理地址是14位
（3）由LA=0A5C,由每页长度是1KB，分离出页号为2，页内地址为1001011100，查页表，对应块号为4，故PA=1001001011100=125C
     由LA=093C,由每页长度是1KB，分离出页号为2，页内地址为0100111100，查页表，对应块号为4，故PA=1000100111100=113C

3、在某系统中，从磁盘将一块数据输入到缓冲需要花费的时间为T，CPU对一块数据进行处理的时间为C，将缓冲区的数据传送到用户区所花费的时间为M，那么在单缓冲和双缓冲情况下，系统处理大量数据时，一块数据的处理时间为多少？
解: 单缓冲情况下, 系统处理大量数据时，一块数据的处理时间为MAX(T,C)+M
双缓冲情况下, 系统处理大量数据时，一块数据的处理时间为MAX(T,C)

六、算法设计和证明题		（每题5分，共10分）
1、在一个盒子里，混装了数量相等的围棋白子和黑子，现在要用自动分拣系统把白子和黑子分开。该系统设有两个进程P1和P2，其中P1拣白子，P2拣黑子。规定每个进程每次只拣一子，当一进程正在拣子时，不允许另一个进程支拣，当一进程拣了一子时，必须让另一进程去拣，试写出两个并发进程能正确执行的算法。
解:设S1：是否拣白子，初值S1=1
S2：是否拣黑子，初值S1=0
两个并发进程如下：
P1：begin
   Local x=n;
L:p(s1);
拣一白子
x=x-1;
v(s2)
if x>0 goto L
end.

P2：begin
   Local x=n;
L:p(s2);
拣一黑子
x=x-1;
v(s1)
if x>0 goto L
end.

2、考虑由m个进程共享的具有m个同类资源的系统，证明：如果对i=1，2，3，…，N，有Needi>0(即n个进程中的任一进程的资源需求数都大于0)，而且所有进程的最大资源需求量之和小于m+n，那么该系统是死锁无关的。
证明：已知  ∑n i=1Needi<m+n,且Needi >0,
由此知：0<∑n i=1（Needi-1）<m
所以，m-∑n i=1（Needi-1）>=1
Needi-1表示进程i所需最大资源差1，上式说明每个进程申请到所需最大资源数差1时，系统已分配出去∑n i=1（Needi-1）个资源，但系统至少还有一个资源可供分配。因此，当进程I再获取一个资源后，资源要求满足，能运行下去，运行后释放的资源可满足其它进程的资源请求，从而使其它进程也能运行。故系统是死锁无关的。

化验师p2:
L:p(s2)
按要求化验
v(s1)
goto L


补充题目
10、在一个分页虚拟存储管理方式中，采用LRU页面置换算法时，假如一个作业的页面走向为1、3、2、1、1、3、5、1、3、2、1、5，当分配给该作业的物理块数M分别是3和4时，试计算在访问过程中所发生的缺页次数和缺页率，并比较所得结果。


11、磁盘请求的柱面按98，183,37,122,14,124,65,67的次序到达磁盘驱动器，寻道时每个柱面移动需要6ms，计算按以下算法调度时的寻道时间：
   (1)FCFS    (2)  SSTF    (3)SCAN
   以上所有情况磁头臂刚刚完成了50号柱面的服务请求,当前位于柱面53号上。

12、若系统有某类资源m*n+1个，允许作业执行过程中动态申请该类资源，但在该系统上运行的每一作业对该类资源的占在量在任一时刻都不会超过m+1个。当作业申请资源时只要资源尚未分配完，则总能满足它的要求。但用限制系统中可同时执行的作业数来防止发生死锁。你认为作业调度最多允许同时执行的最大作业数应是多少？证明之。

13、设有一个缓冲区buffer，大小为一个字节，CP进程不断产生字符送buffer，IOP进程从buffer中取出字符打印。用P、V操作实现CP与IOP进程的同步，做到CP发送数据不会覆盖旧数据，IOP进程不会重复取数。	

14、有一系统采用页式存储管理，有一作业大小是8KB，页大小为2KB，依次装入内存的第4、9、10、5块，试将虚地址3412转换成内存地址
     p=3412%2048    页号
     3412-p*2048     余数为页内地址r=1364
    查页表,1->9(第9块m),MR=m*2048+r=9*2048+1364
15、假定系统有10个资源（为了说明问题的简单，不管它是什么资源），目前分配的情况如下表,给出一个安全的进程执行顺序。

